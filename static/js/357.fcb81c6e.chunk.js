"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[357],{357:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(433),a=n(861),s=n(439),c=n(757),u=n.n(c),i=n(791),o=n(884),l=n(124),f=n(172),p=n(87),d={},h=n(184),v=function(){var t,e=(0,i.useState)(!1),n=(0,s.Z)(e,2),c=n[0],v=n[1],m=(0,i.useState)(!1),x=(0,s.Z)(m,2),g=x[0],_=x[1],j=(0,i.useState)(!1),Z=(0,s.Z)(j,2),w=Z[0],k=Z[1],y=(0,i.useState)([]),S=(0,s.Z)(y,2),b=S[0],C=S[1],N=(0,i.useState)(1),E=(0,s.Z)(N,2),M=E[0],q=E[1],H=(0,p.lr)(),L=(0,s.Z)(H,2),I=L[0],T=L[1],U=null!==(t=I.get("query"))&&void 0!==t?t:"";(0,i.useEffect)((function(){if(!U)return k(!1)}),[U]),(0,i.useEffect)((function(){if(!U)return C([]);function t(){return(t=(0,a.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),_(!1),t.next=5,(0,o.gH)(U,M);case 5:e=t.sent,1===M?C(e.data.results):(C((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.data.results))})),k(e.data.total_pages<Math.ceil(e.data.total_result/12))),k(!0),v(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),_(!0),v(!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[I,M,U]);return(0,h.jsxs)("div",{className:d.container,children:[(0,h.jsx)("p",{children:"Search"}),(0,h.jsx)("input",{type:"text",placeholder:"Search",value:U,onChange:function(t){if(""===t.target.value)return T({});T({query:t.target.value})}}),c&&(0,h.jsx)(f.a,{}),g?(0,h.jsx)("span",{className:d.error,children:"Error occurred, try again in few seconds"}):b.length>0&&(0,h.jsx)(l.e,{movies:b}),w&&(0,h.jsx)("button",{className:d.loadMore,type:"button",onClick:function(){q((function(t){return t+1}))},children:"Load More"})]})}},124:function(t,e,n){n.d(e,{e:function(){return i}});n(791);var r=n(689),a=n(87),s=n(184),c=function(t){var e=t.movieId,n=t.poster_path,c=t.title,u=(0,r.TH)();return(0,s.jsx)("li",{children:(0,s.jsx)(a.rU,{to:"/movie/".concat(e),state:{from:u},children:(0,s.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(n),alt:c})})})},u={},i=function(t){var e=t.movies;return(0,s.jsx)("ul",{className:u.movieList,children:e.map((function(t){var e=t.id,n=t.poster_path,r=t.title,a=t.name;return(0,s.jsx)(c,{poster_path:n,title:null!==a&&void 0!==a?a:r},e)}))})}}}]);
//# sourceMappingURL=357.fcb81c6e.chunk.js.map
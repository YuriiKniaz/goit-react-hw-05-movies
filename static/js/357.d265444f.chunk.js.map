{"version":3,"file":"static/js/357.d265444f.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/Pages/MovieSearch.module.css?f621","Pages/MovieSearch.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieSearch_container__I4bJ4\",\"searchWrapper\":\"MovieSearch_searchWrapper__YRUEs\",\"searchPrg\":\"MovieSearch_searchPrg__ciGM0\",\"searchInput\":\"MovieSearch_searchInput__HIDPp\",\"loadMore\":\"MovieSearch_loadMore__a8q6f\"};","import React, { useState, useEffect } from 'react';\nimport { getSearchMovie } from 'fetchMovies';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { Loader } from 'components/Loader/Loader';\nimport { useSearchParams } from 'react-router-dom';\nimport movieSearch from './MovieSearch.module.css';\n\nconst MovieSearch = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const [moviesQuery, setMoviesQuery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) return setLoadMore(false);\n  }, [query]);\n\n  useEffect(() => {\n    if (!query) return setMoviesQuery([]);\n\n    async function getMovies() {\n      try {\n        setIsLoading(true);\n        setIsError(false);\n\n        const response = await getSearchMovie(query, page);\n\n        if (page === 1) {\n          setMoviesQuery(response.data.results);\n        } else {\n          setMoviesQuery(movies => [...movies, ...response.data.results]);\n          setLoadMore(\n            response.data.total_pages <\n              Math.ceil(response.data.total_result / 20)\n          );\n        }\n        setLoadMore(true);\n        setIsLoading(false);\n      } catch {\n        setIsError(true);\n        setIsLoading(false);\n      }\n    }\n\n    getMovies();\n  }, [searchParams, page, query]);\n\n  const onLoadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  const queryRequest = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: e.target.value });\n  };\n\n  return (\n    <div className={movieSearch.container}>\n      <div className={movieSearch.searchWrapper}>\n        <p className={movieSearch.searchPrg}>Search</p>\n        <input\n          className={movieSearch.searchInput}\n          type=\"text\"\n          placeholder=\"Type in the movie/show name\"\n          value={query}\n          onChange={queryRequest}\n        />\n      </div>\n      {isLoading && <Loader />}\n      {isError ? (\n        <span className={movieSearch.error}>\n          Error occurred, try again in few seconds\n        </span>\n      ) : (\n        moviesQuery.length > 0 && <MovieList moviesData={moviesQuery} />\n      )}\n      {loadMore && (\n        <button\n          className={movieSearch.loadMore}\n          type=\"button\"\n          onClick={onLoadMore}\n        >\n          Load More\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default MovieSearch;\n","// extracted by mini-css-extract-plugin\nexport default {\"itemLink\":\"MovieItem_itemLink__J99fA\",\"itemImg\":\"MovieItem_itemImg__2SZap\",\"descrWrapper\":\"MovieItem_descrWrapper__hZBgV\",\"itemRating\":\"MovieItem_itemRating__Ipfr2\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport item from './MovieItem.module.css';\nexport const MovieItem = ({ id, poster_path, title, vote_average }) => {\n  const location = useLocation();\n  const BASE_IMG = 'https://image.tmdb.org/t/p/w300';\n\n  return (\n    <li className={item.item} key={id}>\n      <Link\n        className={item.itemLink}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        <img\n          className={item.itemImg}\n          src={`${BASE_IMG}${poster_path}`}\n          alt={title}\n        />\n        <div className={item.descrWrapper}>\n          <h3 className={item.itemTitle}>{title}</h3>\n          <p className={item.itemRating}>Rating: {vote_average}</p>\n        </div>\n      </Link>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__uFrOZ\"};","import React from 'react';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\nimport movieList from './MovieList.module.css';\n\nexport const MovieList = ({ moviesData }) => {\n  return (\n    <ul className={movieList.movieList}>\n      {moviesData.map(({ id, poster_path, title, vote_average }) => (\n        <MovieItem\n          key={id}\n          poster_path={poster_path}\n          title={title}\n          vote_average={vote_average}\n          id={id}\n        />\n      ))}\n    </ul>\n  );\n};\n"],"names":["useState","isLoading","setIsLoading","isError","setIsError","loadMore","setLoadMore","moviesQuery","setMoviesQuery","page","setPage","useSearchParams","searchParams","setSearchParams","query","get","useEffect","getSearchMovie","response","data","results","movies","total_pages","Math","ceil","total_result","getMovies","className","movieSearch","type","placeholder","value","onChange","e","target","Loader","length","MovieList","moviesData","onClick","MovieItem","id","poster_path","title","vote_average","location","useLocation","item","to","state","from","src","alt","movieList","map"],"sourceRoot":""}